<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>LuxeTime Watches Lookup</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <div class="container">
    <!-- Logo + Title -->
    <img src="assets/LuxeTime Square Black Logo.png" alt="LuxeTime Logo" class="logo" />
    <h1>LuxeTime Watches Lookup</h1>

    <!-- Passkey / Face ID actions -->
    <div style="display:flex; gap:10px; justify-content:center; margin:12px 0 22px;">
      <button id="btnCreatePasskey" onclick="createPasskey()">Create Passkey (Face ID)</button>
      <button id="btnSignInPasskey" onclick="signInWithPasskey()">Sign in with Passkey</button>
      <button id="btnPasswordLogin" onclick="loginWithPasswordPrompt()">Use Password Instead</button>

    </div>

    <!-- Two sections side-by-side using .lookup-grid -->
    <div class="lookup-grid">
      <!-- Grey Market Lookup -->
      <div class="lookup-section">
        <h2>Grey Market Lookup</h2>
        <label for="combinedSearchInput"><strong>Enter Watch Details:</strong></label>
        <input
          type="text"
          id="combinedSearchInput"
          placeholder="Enter Model or Ref or Nickname or Dial"
        />
        <button id="gmSearchBtn">Search Grey Market</button>
        <button id="openAddBtn">Add New Grey Market Entry</button>

        <!-- Results -->
        <div id="results" class="results"></div>

        <!-- Add/Edit Form -->
        <div id="greyMarketFormContainer" style="margin-top:20px; display:none;">
          <h3 id="greyMarketFormTitle">Add New Grey Market Entry</h3>
          <label for="gm_unique_id">Unique ID</label>
          <input type="text" id="gm_unique_id" />

          <label for="gm_date_entered">Date Entered</label>
          <input type="date" id="gm_date_entered" />

          <label for="gm_year">Year</label>
          <input type="text" id="gm_year" />

          <label for="gm_model">Model</label>
          <input type="text" id="gm_model" />

          <label for="gm_model_name">Model Name</label>
          <div class="autocomplete-wrapper">
            <input type="text" id="gm_model_name" autocomplete="off" />
            <div id="gmRecordPicker" style="display:none;"></div>
          </div>

          <label for="gm_nickname">Nickname or Dial</label>
          <input type="text" id="gm_nickname" />

          <label for="gm_bracelet">Bracelet</label>
          <input type="text" id="gm_bracelet" />

          <label for="gm_bracelet_metal_color">Bracelet Metal/Color</label>
          <input type="text" id="gm_bracelet_metal_color" />

          <label for="gm_price">Price</label>
          <input type="text" id="gm_price" />

          <label for="gm_full_set">Full Set</label>
          <input type="text" id="gm_full_set" />

          <label for="gm_retail_ready">Retail Ready</label>
          <input type="text" id="gm_retail_ready" />

          <label for="gm_current_retail">Current Retail (Not Inc Tax)</label>
          <input type="text" id="gm_current_retail" />

          <label for="gm_dealer">Dealer</label>
          <input type="text" id="gm_dealer" />

          <label for="gm_image">Image</label>
          <input type="file" id="gm_image" accept="image/*" />
          <img id="gm_current_img" src="" style="max-width:120px;display:none;" />

          <label for="gm_comments">Comments</label>
          <textarea id="gm_comments" rows="3"></textarea>

          <button id="saveGmBtn">Save</button>
          <button id="cancelGmBtn">Cancel</button>
          <button id="gm_delete_button" style="background:#b93a3a;color:#fff;display:none;">Delete</button>
        </div>
      </div>

      <!-- Reference Lookup -->
      <div class="lookup-section">
        <h2>Reference Lookup</h2>
        <label for="refQuery"><strong>Enter Reference or Keywords:</strong></label>
        <input id="refQuery" placeholder="e.g., 15210OR, Royal Oak, Offshore" />
        <button id="refLookupBtn">Reference Lookup</button>

        <!-- Results -->
        <div id="refResults" class="results"></div>
      </div>
    </div>

    <!-- DETAIL DOCK: full-width card area below the two top cards -->
    <div id="detailDock" class="detail-dock"></div>
  </div>

  <!-- Image Modal -->
  <div
    id="imgModal"
    class="img-modal"
    style="display:none;position:fixed;z-index:1000;left:0;top:0;width:100vw;height:100vh;background:rgba(0,0,0,0.9);justify-content:center;align-items:center;"
  >
    <img id="imgModalImg" style="max-width:90vw;max-height:90vh;box-shadow:0 0 32px #222;border-radius:18px;" />
  </div>

  <!-- JS -->
  <script src="main.js"></script>
  <script src="reference.js"></script>
  <script src="auth.js"></script>
</body>
</html>
